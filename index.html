<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lista de Tareas | Vue.js</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/heroicons/2.1.3/24/outline/heroicons.min.css"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
      }
      .task-list-enter-active,
      .task-list-leave-active {
        transition: all 0.5s ease;
      }
      .task-list-enter-from,
      .task-list-leave-to {
        opacity: 0;
        transform: translateX(30px);
      }
    </style>
  </head>
  <body
    class="bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-slate-200 flex items-center justify-center min-h-screen p-4"
  >
    <!-- Contenedor principal Vue -->
    <div
      id="app"
      class="w-full max-w-md mx-auto bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-6 md:p-8"
    >
      <!-- Título aplicación -->
      <header class="text-center mb-6">
        <h1
          class="text-3xl md:text-4xl font-bold text-slate-700 dark:text-slate-100"
        >
          TAREAS
        </h1>
        <p class="text-slate-500 dark:text-slate-400 mt-2">
          Organiza tu sufrimiento.
        </p>
      </header>

      <!-- Formulario para agregar tareas -->
      <form @submit.prevent="addTask" class="flex items-center gap-3 mb-6">
        <input
          v-model="newTask"
          type="text"
          placeholder="Añadir una nueva tarea..."
          class="flex-grow p-3 bg-slate-100 dark:bg-slate-700 border-2 border-transparent focus:border-violet-500 rounded-lg outline-none transition-colors duration-300"
        />
        <button
          type="submit"
          class="bg-yellow-600 hover:bg-yellow-700 text-white font-bold p-3 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-105"
          aria-label="Agregar tarea"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="2"
            stroke="currentColor"
            class="w-6 h-6"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M12 4.5v15m7.5-7.5h-15"
            />
          </svg>
        </button>
      </form>

      <!-- Lista de tareas -->
      <div class="space-y-3">
        <transition-group name="task-list" tag="ul">
          <li
            v-for="task in tasks"
            :key="task.id"
            class="flex items-center justify-between bg-slate-50 dark:bg-slate-700 p-2 rounded-lg shadow-sm transition-all duration-300 mb-1"
          >
            <!--checkbox y texto -->
            <div
              @click="toggleTask(task)"
              class="flex items-center gap-4 cursor-pointer flex-grow"
            >
              <!-- Checkbox personalizado para marcar como completada -->
              <div
                :class="['w-6', 'h-6', 'rounded-full', 'border-4', 'flex', 'items-center', 'justify-center', 'transition-all', 'duration-300', task.completed ? 'bg-yellow-500 border-yellow-500' : 'border-slate-300 dark:border-slate-500']"
              >
                <svg
                  v-if="task.completed"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="3"
                  stroke="white"
                  class="w-4 h-4"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="m4.5 12.75 6 6 9-13.5"
                  />
                </svg>
              </div>

              <!-- Texto de la tarea al completarla con una raya -->
              <span
                :class="['flex-grow', { 'line-through text-slate-100 dark:text-slate-800': task.completed }]"
              >
                {{ task.text }}
              </span>
            </div>
            <!-- Botón para eliminar la tarea -->
            <button
              @click="deleteTask(task.id)"
              class="text-slate-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-full transition-colors duration-300 ml-4"
              aria-label="Eliminar tarea"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="2"
                stroke="currentColor"
                class="w-5 h-5"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.134-2.036-2.134H8.716c-1.126 0-2.037.954-2.037 2.134v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"
                />
              </svg>
            </button>
          </li>
        </transition-group>

        <!-- Mensaje cuando no hay tareas -->
        <p
          v-if="tasks.length === 0"
          class="text-center text-slate-500 dark:text-slate-400 pt-4"
        >
          ¡Felicidades! No tienes tareas pendientes.
        </p>
      </div>
    </div>

    <script>
      // Se crea la aplicación Vue
      const { createApp } = Vue;
      createApp({
        // La función data() retorna el estado inicial de la aplicación.
        data() {
          return {
            // Array que almacenará todas las tareas.
            tasks: [
              { id: 1, text: "Completa Tareas", completed: true },
              { id: 2, text: "Agrega Tareas", completed: false },
            ],
            // Almacena el texto de la nueva tarea que se escribe en el input.
            newTask: "",
          };
        },
        methods: {
          // Método para agregar una nueva tarea
          addTask() {
            if (this.newTask.trim() === "") {
              return;
            }
            // Se crea un nuevo objeto de tarea
            const newTaskObject = {
              id: Date.now(), // Se usa Date.now() para un ID único
              text: this.newTask,
              completed: false,
            };
            this.tasks.unshift(newTaskObject);
            this.newTask = "";
          },
          toggleTask(task) {
            task.completed = !task.completed;
          },
          //Eliminar una tarea
          deleteTask(taskId) {
            this.tasks = this.tasks.filter((task) => task.id !== taskId);
          },
        },
      }).mount("#app");
    </script>
  </body>
</html>
